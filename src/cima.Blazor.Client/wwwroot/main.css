/* 
 * CIMA - Sistema de Diseño Corporativo
 * Paleta azul oscuro tendiendo a negro, sin degradados
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* === LAYER BASE === */
@layer base {
    html {
        @apply scroll-smooth;
    }

    body {
        @apply font-sans text-neutral-900 antialiased bg-white;
    }

    h1, h2, h3, h4, h5, h6 {
        @apply font-display font-semibold text-navy-900;
    }

    h1 { @apply text-4xl lg:text-5xl; }
    h2 { @apply text-3xl lg:text-4xl; }
    h3 { @apply text-2xl lg:text-3xl; }
    h4 { @apply text-xl lg:text-2xl; }
    h5 { @apply text-lg lg:text-xl; }
    h6 { @apply text-base lg:text-lg; }

    *:focus-visible {
        @apply outline-2 outline-offset-2 outline-navy-500;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="number"],
    input[type="search"],
    textarea,
    select {
        @apply cima-input;
    }
}

/* === LAYER COMPONENTS === */
@layer components {
    /* === NAVBAR TRANSPARENTE CON SCROLL === */
    .navbar-transparent {
        @apply fixed top-0 left-0 right-0 z-50 transition-all duration-300;
        @apply bg-transparent;
    }

    .navbar-transparent.scrolled {
        @apply bg-navy-900 shadow-lg;
    }

    .navbar-transparent .nav-link {
        @apply text-white/90 hover:text-white transition-colors;
    }

    .navbar-transparent.scrolled .nav-link {
        @apply text-white/95 hover:text-white;
    }

    /* === UTILIDADES DE TEXTO === */
    .cima-text-balance {
        text-wrap: balance;
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
        overflow: hidden;
    }

    /* === OVERLAYS - SIN DEGRADADOS === */
    .cima-overlay {
        @apply absolute inset-0 bg-navy-950/60;
    }

    .cima-overlay-hover {
        @apply absolute inset-0 bg-navy-900/0 transition-all duration-300;
    }

    .cima-overlay-hover:hover {
        @apply bg-navy-900/10;
    }

    /* === SKELETON LOADERS === */
    .cima-skeleton {
        @apply animate-pulse bg-neutral-200 rounded;
    }

    .cima-skeleton-text {
        @apply h-4 bg-neutral-200 rounded animate-pulse;
    }

    .cima-skeleton-image {
        @apply w-full aspect-video bg-neutral-200 rounded-lg animate-pulse;
    }

    /* === BADGES CORPORATIVOS === */
    .cima-badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .cima-badge-primary {
        @apply bg-navy-100 text-navy-800;
    }

    .cima-badge-success {
        @apply bg-green-100 text-green-800;
    }

    .cima-badge-warning {
        @apply bg-yellow-100 text-yellow-800;
    }

    .cima-badge-danger {
        @apply bg-red-100 text-red-800;
    }

    /* === DIVIDERS === */
    .cima-divider {
        @apply border-t border-neutral-200 my-6;
    }

    .cima-divider-vertical {
        @apply border-l border-neutral-200 mx-4;
    }

    /* === ESTADOS DE CARGA === */
    .cima-loading-spinner {
        @apply inline-block w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin;
    }

    /* === FORMS === */
    .cima-form-group {
        @apply mb-4;
    }

    .cima-label {
        @apply block text-sm font-medium text-neutral-700 mb-1.5;
    }

    .cima-label-required::after {
        content: " *";
        @apply text-danger;
    }

    .cima-error-message {
        @apply mt-1 text-sm text-danger;
    }

    .cima-help-text {
        @apply mt-1 text-sm text-neutral-500;
    }

    /* === CARDS CORPORATIVAS === */
    .cima-card {
        @apply bg-white rounded-xl overflow-hidden transition-all duration-300;
    }

    .cima-card-interactive {
        @apply cima-card cursor-pointer hover:shadow-xl hover:-translate-y-1;
        @apply focus-visible:ring-2 focus-visible:ring-navy-500 focus-visible:ring-offset-2;
    }

    /* === TABS === */
    .cima-tabs {
        @apply flex border-b border-neutral-200;
    }

    .cima-tab {
        @apply px-4 py-2 text-sm font-medium text-neutral-600;
        @apply border-b-2 border-transparent;
        @apply hover:text-navy-600 hover:border-neutral-300;
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-navy-500;
        @apply transition-colors duration-200;
    }

    .cima-tab-active {
        @apply text-navy-600 border-navy-500;
    }

    /* === LAZY LOAD IMAGES === */
    .cima-image-lazy {
        @apply transition-opacity duration-300 opacity-0;
    }

    .cima-image-lazy.loaded {
        @apply opacity-100;
    }

    /* === RESPONSIVE IMAGES === */
    .cima-responsive-image {
        @apply w-full h-auto object-cover;
    }

    /* === SECCIONES === */
    .cima-section {
        @apply w-full py-16 md:py-20;
    }

    .cima-section-alt {
        @apply bg-neutral-50;
    }

    .cima-container {
        @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }
}

/* === LAYER UTILITIES === */
@layer utilities {
    /* Aspect ratios personalizados */
    .aspect-listing-card {
        aspect-ratio: 4 / 3;
    }

    /* Backdrop blur */
    .backdrop-blur-sm-safari {
        -webkit-backdrop-filter: blur(4px);
        backdrop-filter: blur(4px);
    }
}

/* === ANIMACIONES KEYFRAMES === */
@keyframes slide-down {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-down {
    animation: slide-down 0.3s ease-out;
}

/* === LOADER PRINCIPAL === */
.loader {
    @apply fixed inset-0 w-screen h-screen z-[999] bg-neutral-50;
    @apply flex items-center justify-center;
}

.dark .loader {
    @apply bg-neutral-950;
}

#ApplicationContainer > div:first-child:not(:only-child) {
    display: none !important;
}

/* === BLAZOR ERROR UI === */
#blazor-error-ui {
    @apply bg-yellow-100 fixed bottom-0 left-0 w-full z-[1000];
    @apply px-5 py-3 shadow-lg;
    display: none;
}

#blazor-error-ui .dismiss {
    @apply cursor-pointer absolute right-3 top-2;
}

/* === PRINT STYLES === */
@media print {
    .cima-no-print {
        display: none !important;
    }
}

