@using Microsoft.Extensions.Localization
@using cima.Localization
@using cima.Domain.Shared
@inject IStringLocalizer<cimaResource> Localizer
@inject NavigationManager Navigation
@inject IJSRuntime JS

@inherits cimaComponentBase

@* Hero a PANTALLA COMPLETA (100vh) *@
<section class="relative w-full h-screen overflow-hidden">
    @* Fondo con gradiente y pattern *@
    <div class="absolute inset-0 bg-gradient-to-br from-navy-900 via-navy-800 to-navy-700">
        @* SVG pattern decorativo *@
        <svg class="absolute inset-0 w-full h-full opacity-10" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="grid-pattern" width="60" height="60" patternUnits="userSpaceOnUse">
                    <path d="M 60 0 L 0 0 0 60" fill="none" stroke="currentColor" stroke-width="0.5"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid-pattern)" />
        </svg>
        
        @* Icono decorativo grande

        <svg class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] md:w-[700px] md:h-[700px] text-navy-600 opacity-10" 
             fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>
        </svg>
        *@   
            <img src="@($"{Navigation.BaseUri}images/logo/logo - B&W.svg")"
                 alt="logo"
             class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] md:w-[700px] md:h-[700px] text-navy-600 opacity-5"
             fill="currentColor" viewBox="0 0 24 24" />

    </div>

    @* Overlay oscuro para mejor legibilidad *@
    <div class="absolute inset-0 bg-black/30"></div>

    @* Contenido centrado *@
    <div class="relative h-full flex flex-col items-center justify-center px-4 z-10">
        <div class="text-center max-w-5xl mx-auto">
            @* Logo/Marca principal *@
            <div class="mb-8 animate-fade-in">
                <h1 class="text-6xl md:text-8xl lg:text-9xl font-display font-bold tracking-[0.25em] uppercase mb-6 text-white drop-shadow-2xl">
                    @L["Hero:Brand"]
                </h1>
                <p class="text-sm md:text-base lg:text-lg tracking-[0.3em] uppercase text-white/90 font-light">
                    @L["Hero:Tagline"]
                </p>
            </div>

            @* Descripcion opcional *@
            <p class="text-lg md:text-xl text-white/80 mb-12 max-w-2xl mx-auto font-light leading-relaxed">
                @L["Hero:Description"]
            </p>

            @* CTA Buttons *@
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <a href="/properties" 
                   class="px-8 py-4 bg-white text-navy-900 rounded-xl font-semibold hover:bg-neutral-100 transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1 min-w-[200px]">
                    @L["Hero:ViewProperties"]
                </a>
                <a href="/portfolio" 
                   class="px-8 py-4 bg-transparent border-2 border-white text-white rounded-xl font-semibold hover:bg-white hover:text-navy-900 transition-all duration-300 min-w-[200px]">
                    @L["Hero:ViewPortfolio"]
                </a>
            </div>
        </div>

        @* Indicador de scroll *@
        <button @onclick="ScrollToFeatured" 
                class="absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-white/70 hover:text-white transition-all duration-300 group animate-bounce">
            <span class="text-xs uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity">@L["Hero:Discover"]</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
            </svg>
        </button>
    </div>
</section>

@code {
    [Parameter]
    public EventCallback<string> OnSearch { get; set; }

    private async Task ScrollToFeatured()
    {
        try
        {
            await JS.InvokeVoidAsync("eval", @"
                const featuredSection = document.getElementById('featured-properties');
                if (featuredSection) {
                    featuredSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            ");
        }
        catch
        {
            // Silenciar error si falla
        }
    }
}
